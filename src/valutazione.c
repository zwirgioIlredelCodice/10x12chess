#include "pezzi.h"
#include "valutazione.h"
#include "scacchiera.h"


int pawnEvalWhite[] =
    {
        0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
        0,   0,   0,   0,   0,   0,   0,   0,   0, 0,
        0,   0,   0,   0,   0,   0,   0,   0,   0, 0,
        0,   50,  50,  50,  50,  50,  50,  50,  50, 0,
        0,   10,  10,  20,  30,  30,  20,  10,  10, 0,
        0,   5,   5,   0,   5,   5,   0,   5,   5,  0,
        0,   0,   0,   0,   2,   2,   0,   0,   0, 0,
        0,   5,  -5, -10,   0,   0, -10,  -5,   5, 0,
        0,   5,  10,  10, -20, -20,  10,  10,   5, 0,
        0,   0,   0,   0,   0,   0,   0,   0,   0, 0,
        0,   0,   0,   0,   0,   0,   0,   0,   0, 0,
        0,   0,   0,   0,   0,   0,   0,   0,   0, 0
    };

int pawnEvalBlack[] = 
{
        0, 0,   0,   0,   0,   0,   0,   0,   0, 0,
        0, 0,   0,   0,   0,   0,   0,   0,   0, 0,
        0, 0,   0,   0,   0,   0,   0,   0,   0, 0,
        0, 5,  10,  10, -20, -20,  10,  10,   5, 0, 
        0, 5,  -5, -10,   0,   0, -10,  -5,   5, 0, 
        0, 0,   0,   0,  20,  20,   0,   0,   0, 0, 
        0, 5,   5,  10,  25,  25,  10,   5,   5, 0, 
        0, 10, 10,  20,  30,  30,  20,  10,  10, 0, 
        0, 50, 50,  50,  50,  50,  50,  50,  50, 0, 
        0, 0,   0,   0,   0,   0,   0,   0,   0, 0,
        0, 0,   0,   0,   0,   0,   0,   0,   0, 0,
        0, 0,   0,   0,   0,   0,   0,   0,   0, 0
};

int knightEval[] =
    {
       0,  0,   0,   0,   0,   0,   0,   0,    0, 0,
       0,  0,   0,   0,   0,   0,   0,   0,    0, 0,
       0, -50, -40, -30, -30, -30, -30, -40, -50, 0,
       0, -40, -20,  0 ,  0 ,  0 ,  0 , -20, -40, 0,
       0, -30,  0 ,  10,  15,  15,  10,  0 , -30, 0,
       0, -30,   5,  15,  20,  20,  15,   5, -30, 0,
       0, -30,  0 ,  15,  20,  20,  15,  0 , -30, 0,
       0, -30,   5,  10,  15,  15,  10,   5, -30, 0,
       0, -40, -20,  0 ,   5,   5,  0 , -20, -40, 0,
       0, -50, -40, -30, -30, -30, -30, -40, -50, 0,
       0,  0,   0,   0,   0,   0,   0,   0,    0, 0,
       0,  0,   0,   0,   0,   0,   0,   0,    0, 0
    };

int bishopEvalWhite[] = {
    0, 0,   0,   0,   0,   0,   0,   0,     0, 0,
    0, 0,   0,   0,   0,   0,   0,   0,     0, 0,
    0, -20, -10, -10, -10, -10, -10, -10, -20, 0,
    0, -10,  0 ,  0 ,  0 ,  0 ,  0 ,  0 , -10, 0,
    0, -10,  0 ,   5,  10,  10,   5,  0 , -10, 0,
    0, -10,   5,   5,  10,  10,   5,   5, -10, 0,
    0, -10,  0 ,  10,  10,  10,  10,  0 , -10, 0,
    0, -10,  10,  10,  10,  10,  10,  10, -10, 0,
    0, -10,   5,  0 ,  0 ,  0 ,  0 ,   5, -10, 0,
    0, -20, -10, -10, -10, -10, -10, -10, -20, 0,
    0, 0,   0,   0,   0,   0,   0,   0,     0, 0,
    0, 0,   0,   0,   0,   0,   0,   0,     0, 0
};

int bishopEvalBlack[] = {
    0, 0,   0,   0,   0,   0,   0,   0,     0, 0,
    0, 0,   0,   0,   0,   0,   0,   0,     0, 0,
    0, -20, -10, -10, -10, -10, -10, -10, -20, 0,
    0, -10,   5,   0,   0,   0,   0,   5, -10, 0,
    0, -10,  10,  10,  10,  10,  10,  10, -10, 0,
    0, -10,   0,  10,  10,  10,  10,  0,  -10, 0,
    0, -10,   5,   5,  10,  10,   5,   5, -10, 0,
    0, -10,   0,   5,  10,  10,   5,   0, -10, 0,
    0, -10,   0,   0,   0,   0,   0,   0, -10, 0,
    0, -20, -10, -10, -10, -10, -10, -10, -20, 0,
    0, 0,   0,   0,   0,   0,   0,   0,     0, 0,
    0, 0,   0,   0,   0,   0,   0,   0,     0, 0
};


int rookEvalWhite[] = {
   0, 0,   0,   0,   0,   0,   0,   0,   0, 0,
   0, 0,   0,   0,   0,   0,   0,   0,   0, 0,
   0,  0,   0,   0,   0,   0,   0,   0,  0, 0,
   0,  5,  10,  10,  10,  10,  10,  10,  5, 0,
   0, -5,   0,   0,   0,   0,   0,   0, -5, 0,
   0, -5,   0,   0,   0,   0,   0,   0, -5, 0,
   0, -5,   0,   0,   0,   0,   0,   0, -5, 0,
   0, -5,   0,   0,   0,   0,   0,   0, -5, 0,
   0, -5,   0,   0,   0,   0,   0,   0, -5, 0,
   0,  0,   0,   0,   5,   5,   0,   0,  0, 0,
   0,  0,   0,   0,   0,   0,   0,   0,  0, 0,
   0,  0,   0,   0,   0,   0,   0,   0,  0, 0
};

int rookEvalBlack[] = {
    0,  0,   0,   0,   0,   0,   0,   0,   0, 0,
    0,  0,   0,   0,   0,   0,   0,   0,   0, 0,
    0,  0,   0,   0,   5,   5,   0,   0,   0, 0,
    0, -5,   0,   0,   0,   0,   0,   0,  -5, 0, 
    0, -5,   0,   0,   0,   0,   0,   0,  -5, 0, 
    0, -5,   0,   0,   0,   0,   0,   0,  -5, 0, 
    0, -5,   0,   0,   0,   0,   0,   0,  -5, 0,
    0, -5,   0,   0,   0,   0,   0,   0,  -5, 0,
    0,  5,  10,  10,  10,  10,  10,  10,   5, 0, 
    0,  0,   0,   0,   0,   0,   0,   0,   0, 0, 
    0,  0,   0,   0,   0,   0,   0,   0,   0, 0,
    0,  0,   0,   0,   0,   0,   0,   0,   0, 0
};

int evalQueen[] = 
    {
    0, 0,   0,   0,   0,   0,   0,   0,     0, 0,
    0, 0,   0,   0,   0,   0,   0,   0,     0, 0,
    0, -20, -10, -10, - 5, - 5, -10, -10, -20, 0,
    0, -10,   0,   0,   0,   0,   0,   0, -10, 0,
    0, -10,   0,   5,   5,   5,   5,   0, -10, 0,
    0, - 5,   0,   5,   5,   5,   5,   0, - 5, 0,
    0,   0,   0,   5,   5,   5,   5,   0, - 5, 0,
    0, -10,   5,   5,   5,   5,   5,   0, -10, 0,
    0, -10,   0,   5,   0,   0,   0,   0, -10, 0,
    0, -20, -10, -10, - 5, - 5, -10, -10, -20, 0,
    0, 0,   0,   0,   0,   0,   0,   0,     0, 0,
    0, 0,   0,   0,   0,   0,   0,   0,     0, 0
    };

int kingEvalWhite[] = { 
    0, 0,   0,   0,   0,   0,   0,   0,     0, 0,
    0, 0,   0,   0,   0,   0,   0,   0,     0, 0,
    0, -30, -40, -40, -50, -50, -40, -40, -30, 0,
    0, -30, -40, -40, -50, -50, -40, -40, -30, 0,
    0, -30, -40, -40, -50, -50, -40, -40, -30, 0,
    0, -30, -40, -40, -50, -50, -40, -40, -30, 0,
    0, -20, -30, -30, -40, -40, -30, -30, -20, 0,
    0, -10, -20, -20, -20, -20, -20, -20, -10, 0,
    0,  20,  20,   0,   0,   0,   0,  20,  20, 0,
    0,  20,  30,  10,   0,   0,  10,  30,  20, 0,
    0,  0,   0,   0,   0,   0,   0,   0,    0, 0,
    0,  0,   0,   0,   0,   0,   0,   0,    0, 0
};

int kingEvalBlack[] = {
    0, 0,   0,   0,   0,   0,   0,   0,     0, 0,
    0, 0,   0,   0,   0,   0,   0,   0,     0, 0,
    0,  20,  30,  10,   0,  0,   10,  30,  20, 0, 
    0,  20,  20,   0,   0,  0,    0,  20,  20, 0,
    0, -10, -20, -20, -20, -20, -20, -20, -10, 0, 
    0, -20, -30, -30, -40, -40, -30, -30, -20, 0, 
    0, -30, -40, -40, -50, -50, -40, -40, -30, 0, 
    0, -30, -40, -40, -50, -50, -40, -40, -30, 0, 
    0, -30, -40, -40, -50, -50, -40, -40, -30, 0, 
    0, -30, -40, -40, -50, -50, -40, -40, -30, 0,
    0, 0,   0,   0,   0,   0,   0,   0,     0, 0,
    0, 0,   0,   0,   0,   0,   0,   0,     0, 0
};

int valuta_posizione(scacchiera *scc) {
    int val = 0;
    for (int i = 0; i < 120; i++) {
        switch (scc->sc[i]) {
            case pedone_b:
                val += 100;
                val += pawnEvalWhite[i];
                break;
        
            case cavallo_b:
                val += 300;
                val += knightEval[i];
                break;

            case alfiere_b:
                val += 300;
                val += bishopEvalWhite[i];
                break;
        
            case torre_b:
                val += 500;
                val += rookEvalWhite[i];
                break;

            case regina_b:
                val += 900;
                val += evalQueen[i];
                break;

            case re_b:
                val += 9000;
                val += kingEvalWhite[i];
                break;

            case pedone_n:
                val -= 100;
                val -= pawnEvalBlack[i];
                break;
        
            case cavallo_n:
                val -= 300;
                val -= knightEval[i];
                break;

            case alfiere_n:
                val -= 300;
                val -= bishopEvalBlack[i];
                break;
        
            case torre_n:
                val -= 500;
                val -= rookEvalBlack[i];
                break;

            case regina_n:
                val -= 900;
                val -= evalQueen[i];
                break;

            case re_n:
                val -= 9000;
                val -= kingEvalBlack[i];
                break;
        
            default:
                break;
        }
    }
    return val;
}